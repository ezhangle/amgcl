<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>amgcl: amgcl Generic algebraic multigrid framework.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">amgcl
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">amgcl Generic algebraic multigrid framework. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a simple and generic AMG hierarchy builder (and a work in progress). May be used as a standalone solver or as a preconditioner. CG and BiCGStab iterative solvers are provided. Solvers from <a href="http://viennacl.sourceforge.net">ViennaCL</a> are supported as well.</p>
<p><a href="https://github.com/ddemidov/vexcl">VexCL</a>, <a href="http://viennacl.sourceforge.net">ViennaCL</a>, or <a href="http://eigen.tuxfamily.org">Eigen</a> matrix/vector containers may be used with built-in and ViennaCL's solvers. See <a href="https://github.com/ddemidov/amgcl/blob/master/examples/vexcl.cpp">examples/vexcl.cpp</a>, <a href="https://github.com/ddemidov/amgcl/blob/master/examples/viennacl.cpp">examples/viennacl.cpp</a> and <a href="https://github.com/ddemidov/amgcl/blob/master/examples/eigen.cpp">examples/eigen.cpp</a> for respective examples.</p>
<h1><a class="anchor" id="setup"></a>
AMG hierarchy building</h1>
<p>Constructor of amgcl::solver&lt;&gt; object builds the multigrid hierarchy based on algebraic information contained in the system matrix:</p>
<div class="fragment"><div class="line"><span class="comment">// amgcl::sparse::matrix&lt;double, int&gt; A;</span></div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><span class="comment">// amgcl::sparse::matrix_map&lt;double, int&gt; A;</span></div>
<div class="line"><a class="code" href="classamgcl_1_1solver.html" title="Algebraic multigrid method.">amgcl::solver</a>&lt;</div>
<div class="line">    double,                 <span class="comment">// Scalar type</span></div>
<div class="line">    int,                    <span class="comment">// Index type of the matrix</span></div>
<div class="line">    <a class="code" href="classamgcl_1_1interp_1_1classic.html" title="Direct interpolation scheme based on (Stuben, 1999).">amgcl::interp::classic</a>, <span class="comment">// Interpolation kind</span></div>
<div class="line">    <a class="code" href="structamgcl_1_1level_1_1cpu.html" title="CPU-based AMG hierarchy.">amgcl::level::cpu</a>       <span class="comment">// Where to store the hierarchy</span></div>
<div class="line">&gt; amg(A);</div>
</div><!-- fragment --><p>Currently supported interpolation schemes are <a class="el" href="classamgcl_1_1interp_1_1classic.html" title="Direct interpolation scheme based on (Stuben, 1999).">amgcl::interp::classic</a> and amgcl::interp::aggregation&lt;amgcl::aggr::plain&gt;. The aggregation scheme uses less memory and is set up faster than classic interpolation, but its convergence rate is slower. It is well suited for VexCL or ViennaCL containers, where solution phase is accelerated by the OpenCL technology and, therefore, the cost of the setup phase is much more important.</p>
<div class="fragment"><div class="line"><a class="code" href="classamgcl_1_1solver.html" title="Algebraic multigrid method.">amgcl::solver</a>&lt;</div>
<div class="line">    double, int,</div>
<div class="line">    <a class="code" href="structamgcl_1_1interp_1_1aggregation.html" title="Aggregation-based interpolation scheme.">amgcl::interp::aggregation&lt;amgcl::aggr::plain&gt;</a>,</div>
<div class="line">    <a class="code" href="structamgcl_1_1level_1_1vexcl.html" title="VexCL-based AMG hierarchy.">amgcl::level::vexcl</a></div>
<div class="line">&gt; amg(A);</div>
</div><!-- fragment --><h1><a class="anchor" id="solution"></a>
Solution</h1>
<p>After the hierarchy is constructed, it may be repeatedly used to solve the linear system for different right-hand sides:</p>
<div class="fragment"><div class="line"><span class="comment">// std::vector&lt;double&gt; rhs, x;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">auto</span> conv = amg.solve(rhs, x);</div>
<div class="line"></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Iterations: &quot;</span> &lt;&lt; std::get&lt;0&gt;(conv) &lt;&lt; std::endl</div>
<div class="line">          &lt;&lt; <span class="stringliteral">&quot;Error:      &quot;</span> &lt;&lt; std::get&lt;1&gt;(conv) &lt;&lt; std::endl;</div>
</div><!-- fragment --><p>Using the AMG as a preconditioner with a Krylov subspace method like conjugate gradients works even better: </p>
<div class="fragment"><div class="line"><span class="comment">// Eigen::VectorXd rhs, x;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">auto</span> conv = <a class="code" href="namespaceamgcl.html#a08e4b9669f2583ffe523c3df19d5bdfd" title="Stabilized BiConjugate Gradient method.">amgcl::solve</a>(A, rhs, x, <a class="code" href="structamgcl_1_1cg__tag.html" title="Controlling parameters.">amgcl::cg_tag</a>());</div>
</div><!-- fragment --><p>Types of right-hand side and solution vectors should be compatible with the level type used for construction of the AMG hierarchy. For example, if <a class="el" href="structamgcl_1_1level_1_1vexcl.html" title="VexCL-based AMG hierarchy.">amgcl::level::vexcl</a> is used as a storage backend, then vex::SpMat&lt;&gt; and vex::vector&lt;&gt; types have to be used when solving:</p>
<div class="fragment"><div class="line"><span class="comment">// vex::SpMat&lt;double,int&gt; Agpu;</span></div>
<div class="line"><span class="comment">// vex::vector&lt;double&gt; rhs, x;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">auto</span> conv = <a class="code" href="namespaceamgcl.html#a08e4b9669f2583ffe523c3df19d5bdfd" title="Stabilized BiConjugate Gradient method.">amgcl::solve</a>(Agpu, rhs, x, <a class="code" href="structamgcl_1_1cg__tag.html" title="Controlling parameters.">amgcl::cg_tag</a>());</div>
</div><!-- fragment --><h1><a class="anchor" id="install"></a>
Installation</h1>
<p>The library is header-only, so there is nothing to compile or link to. You just need to copy amgcl folder somewhere and tell your compiler to scan it for include files. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
